CREATE TABLE patients (
  row_id int(11) NOT NULL AUTO_INCREMENT,
  nom_prenom VARCHAR(255) NULL, ipp VARCHAR(255) NULL, n_dossier INT NULL, diagnostic_id INT NULL, professeur_id INT NULL, date_entree DATETIME NULL, lit VARCHAR(255) NULL, date_operation DATETIME NULL, date_sortie DATETIME NULL, CS varchar(20) NULL, CRO varchar(20) NULL, obs TEXT NULL, 
  PRIMARY KEY (`row_id`), KEY `IDX` (diagnostic_id,professeur_id)  
) ENGINE=InnoDB DEFAULT CHARSET=latin1;


              create view vw_patientslist as 
              select 
                patients.row_id 
                ,patients.nom_prenom 
,patients.ipp 
,patients.n_dossier 
,patients.diagnostic_id 
,diagnostics.nom as diagnostics_nom 
,patients.professeur_id 
,professeurs.nom as professeurs_nom 
,patients.date_entree 
,patients.lit 
,patients.date_operation 
,patients.date_sortie 
,patients.CS 
,patients.CRO 
,patients.obs 
 
              from patients 
              left join diagnostics on diagnostics.row_id = patients.diagnostic_id 
left join professeurs on professeurs.row_id = patients.professeur_id 
 
            
